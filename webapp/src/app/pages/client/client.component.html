<mat-card *ngIf="client" align="center" class="mat-elevation-z0" style="box-sizing: border-box">
	<mat-card
		class="mat-elevation-z8"
		style="float: left; max-width: 20%; box-sizing: border-box; margin: 5px"
	>
		<mat-card-content>
			<div *ngIf="client" align="center">
				<img
					*ngIf="URL"
					[src]="URL"
					alt=""
					style="border-radius: 100%; width: 100px; height: 100px"
				/>
				<h2>{{ client.displayName }}</h2>
			</div>
		</mat-card-content>
		<mat-card-actions>
			<button mat-raised-button color="primary" (click)="getClientWorkouts()">
				Workouts
			</button>
		</mat-card-actions>
	</mat-card>
	<!-- workouts new -->
	<mat-card
		*ngIf="workouts?.length > 0"
		class="mat-elevation-z8"
		style="float: left; max-width: 20%; box-sizing: border-box; overflow: hidden; margin: 5px"
	>
		<mat-card-title>Allenamenti</mat-card-title>
		<mat-card-content
			><table mat-table [dataSource]="workouts">
				<!-- todo: remove column workout id -->
				<!-- <ng-container matColumnDef="id">
					<th mat-header-cell *matHeaderCellDef>Id</th>
					<td mat-cell *matCellDef="let w">{{ w.id }}</td>
				</ng-container> -->
				<!-- workout name -->
				<ng-container matColumnDef="name">
					<th mat-header-cell *matHeaderCellDef>Nome</th>
					<td mat-cell *matCellDef="let w">{{ w.name }}</td>
				</ng-container>
				<!-- starting date -->
				<ng-container matColumnDef="startingDate">
					<th mat-header-cell *matHeaderCellDef>Inizio</th>
					<td mat-cell *matCellDef="let w">
						{{ w.startingDate ? (w.startingDate | date: 'dd/MM/yyyy HH:mm') : '' }}
					</td>
				</ng-container>
				<!-- ending date -->
				<ng-container matColumnDef="endingDate">
					<th mat-header-cell *matHeaderCellDef>Fine</th>
					<td mat-cell *matCellDef="let w">
						{{ w.endingDate ? (w.endingDate | date: 'dd/MM/yyyy HH:mm') : '' }}
					</td>
				</ng-container>
				<!-- trainer name -->
				<ng-container matColumnDef="trainer">
					<th mat-header-cell *matHeaderCellDef>Trainer</th>
					<td mat-cell *matCellDef="let w">{{ w.trainer }}</td>
				</ng-container>
				<!-- delete Column -->
				<ng-container matColumnDef="delete">
					<th mat-header-cell *matHeaderCellDef>Elimina</th>
					<td mat-cell *matCellDef="let w">
						<mat-icon (click)="deleteWorkout(w)" style="cursor: pointer"
							>delete</mat-icon
						>
					</td>
				</ng-container>
				<!-- detail -->
				<ng-container matColumnDef="detail">
					<th mat-header-cell *matHeaderCellDef>Dettaglio</th>
					<td mat-cell *matCellDef="let c">
						<mat-icon (click)="detailWorkout(c)" style="cursor: pointer">info</mat-icon>
					</td>
				</ng-container>

				<tr mat-header-row *matHeaderRowDef="columnsWorkouts"></tr>
				<tr mat-row *matRowDef="let row; columns: columnsWorkouts"></tr>
			</table>
		</mat-card-content>
	</mat-card>
	<!-- detail workout -->
	<app-workout
		style="float: left; max-width: 60%; box-sizing: border-box; margin: 5px"
		[client]="client"
		[workout]="selected_workout"
	></app-workout>
</mat-card>

<mat-card style="overflow: hidden" align="center" [class.mat-elevation-z0]="true">
	<mat-card-title>Admin panel</mat-card-title>
	<mat-card-content>
		<mat-card [class.mat-elevation-z0]="true" style="float: left" class="example-full-width">
			<mat-card-title style="margin-bottom: 20px">Aggiungi un nuovo cliente</mat-card-title>
			<mat-card-content>
				<form class="example-form">
					<mat-form-field class="example-full-width">
						<mat-label>Sede</mat-label>
						<input matInput disabled value="Gymnasium #1" />
					</mat-form-field>

					<table class="example-full-width" cellspacing="0">
						<tr>
							<td>
								<mat-form-field class="example-full-width">
									<mat-label>Nome</mat-label>
									<input
										#nome
										matInput
										required
										placeholder="Mario"
										[formControl]="nomeFormControl"
									/>
									<button
										mat-button
										*ngIf="nomeFormControl.value"
										matSuffix
										mat-icon-button
										aria-label="Clear"
										(click)="nomeFormControl.setValue(null)"
									>
										<mat-icon>close</mat-icon>
									</button>
								</mat-form-field>
							</td>
							<td>
								<mat-form-field class="example-full-width">
									<mat-label>Cognome</mat-label>
									<input
										#cognome
										matInput
										required
										placeholder="Rossi"
										[formControl]="cognomeFormControl"
									/>
									<button
										mat-button
										*ngIf="cognomeFormControl.value"
										matSuffix
										mat-icon-button
										aria-label="Clear"
										(click)="cognomeFormControl.setValue(null)"
									>
										<mat-icon>close</mat-icon>
									</button>
								</mat-form-field>
							</td>
						</tr>
					</table>

					<p>
						<mat-form-field class="example-full-width">
							<mat-label>Codice Fiscale</mat-label>
							<input
								matInput
								#codiceFiscale
								maxlength="16"
								minlength="16"
								required
								[formControl]="codiceFiscaleFormControl"
							/>
							<mat-hint align="end">{{ codiceFiscale.value.length }} / 16</mat-hint>
							<mat-error *ngIf="codiceFiscaleFormControl.hasError('required')">
								Codice fiscale <strong>obbligatorio</strong>
							</mat-error>
							<mat-error *ngIf="codiceFiscaleFormControl.hasError('minlength')">
								Minimo 16 caratteri
							</mat-error>
							<mat-error *ngIf="codiceFiscaleFormControl.hasError('maxlength')">
								Massimo 16 caratteri
							</mat-error>
							<mat-error *ngIf="codiceFiscaleFormControl.hasError('pattern')">
								Inserisci un codice fiscale <strong>valido</strong>
							</mat-error>
							<button
								mat-button
								*ngIf="codiceFiscaleFormControl.value"
								matSuffix
								mat-icon-button
								aria-label="Clear"
								(click)="codiceFiscaleFormControl.setValue(null)"
							>
								<mat-icon>close</mat-icon>
							</button>
						</mat-form-field>
					</p>

					<p>
						<mat-form-field class="example-full-width">
							<mat-label>Indirizzo</mat-label>
							<textarea
								#indirizzo
								matInput
								placeholder="Es. Via Roma 100"
								required
								[formControl]="indirizzoFormControl"
							></textarea>
							<button
								mat-button
								*ngIf="indirizzoFormControl.value"
								matSuffix
								mat-icon-button
								aria-label="Clear"
								(click)="indirizzoFormControl.setValue(null)"
							>
								<mat-icon>close</mat-icon>
							</button>
						</mat-form-field>
						<mat-form-field class="example-full-width">
							<mat-label>Secondo Indirizzo</mat-label>
							<textarea
								#indirizzo2
								matInput
								[formControl]="indirizzo2FormControl"
							></textarea>
							<button
								mat-button
								*ngIf="indirizzo2FormControl.value"
								matSuffix
								mat-icon-button
								aria-label="Clear"
								(click)="indirizzo2FormControl.setValue(null)"
							>
								<mat-icon>close</mat-icon>
							</button>
						</mat-form-field>
					</p>

					<table class="example-full-width" cellspacing="0">
						<tr>
							<td>
								<mat-form-field class="example-full-width">
									<mat-label>Stato</mat-label>
									<input matInput value="Italia" disabled />
								</mat-form-field>
							</td>
							<td>
								<mat-form-field class="example-full-width">
									<mat-label>Citt√†</mat-label>
									<input
										matInput
										placeholder="Ex. Milano"
										[formControl]="cittaFormControl"
										required
									/>
								</mat-form-field>
							</td>
							<td>
								<mat-form-field class="example-full-width">
									<mat-label>Codice Postale</mat-label>
									<input
										matInput
										#postalCode
										maxlength="5"
										placeholder="Ex. 36000"
										[formControl]="codicePostaleFormControl"
										required
									/>
									<mat-hint align="end"
										>{{ postalCode.value.length }} / 5</mat-hint
									>
									<mat-error
										*ngIf="codicePostaleFormControl.hasError('required')"
									>
										Codice postale <strong>obbligatorio</strong>
									</mat-error>
								</mat-form-field>
							</td>
						</tr>
					</table>
				</form>
				<!-- id -->
				<!-- displayName -->
				<!-- fiscal code -->
			</mat-card-content>
			<mat-card-actions>
				<button mat-raised-button color="warn" (click)="resetClient(client)">Reset</button>
				<button
					mat-raised-button
					color="primary"
					(click)="addClient(client)"
					[disabled]="
						nomeFormControl.invalid ||
						cognomeFormControl.invalid ||
						codiceFiscaleFormControl.invalid ||
						codicePostaleFormControl.invalid ||
						indirizzoFormControl.invalid
					"
				>
					Aggiungi Cliente
				</button>
			</mat-card-actions>
		</mat-card>
		<mat-card [class.mat-elevation-z0]="true" style="float: left; margin-top: 30px;" class="example-full-width">
			<mat-card-title>Clienti</mat-card-title>
			<mat-card-content><table mat-table [dataSource]="clients" class="mat-elevation-z8 half-width">

				<!--- Note that these columns can be defined in any order.
					  The actual rendered columns are set as a property on the row definition" -->
			  
				<!-- Position Column -->
				<ng-container matColumnDef="id">
				  <th mat-header-cell *matHeaderCellDef> Id </th>
				  <td mat-cell *matCellDef="let c"> {{c.id}} </td>
				</ng-container>
			  
				<!-- Name Column -->
				<ng-container matColumnDef="name">
				  <th mat-header-cell *matHeaderCellDef> Nome </th>
				  <td mat-cell *matCellDef="let c"> {{c.displayName}} </td>
				</ng-container>
			  
				<!-- Weight Column -->
				<ng-container matColumnDef="fiscalCode">
				  <th mat-header-cell *matHeaderCellDef> Codice Fiscale </th>
				  <td mat-cell *matCellDef="let c"> {{c.fiscalCode}} </td>
				</ng-container>
			  
				<!-- Symbol Column -->
				<ng-container matColumnDef="address">
				  <th mat-header-cell *matHeaderCellDef> Indirizzo </th>
				  <td mat-cell *matCellDef="let c"> {{c.address}} </td>
				</ng-container>

				<!-- Remove Column -->
				<ng-container matColumnDef="remove">
					<th mat-header-cell *matHeaderCellDef> Elimina </th>
				  <td mat-cell *matCellDef="let c">
						<mat-icon (click)="remove(c)" style="cursor: pointer;">delete</mat-icon>
					</td>
				</ng-container>
			  
				<!-- Vai al dettaglio -->
				<ng-container matColumnDef="detail">
					<th mat-header-cell *matHeaderCellDef> Dettaglio </th>
				  <td mat-cell *matCellDef="let c">
						<mat-icon (click)="detail(c)" style="cursor: pointer;">info</mat-icon>
					</td>
				</ng-container>

				<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
				<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
			  </table>
			  
			  </mat-card-content>
			<mat-card-actions>
				<button mat-raised-button color="warn" (click)="showClients()">Mostra Clienti</button>
			</mat-card-actions>
		</mat-card>
	</mat-card-content>
</mat-card>
